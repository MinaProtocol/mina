# kubectl apply -f helm/cron_jobs/devnet-txn-burst-cronjob.yaml
# the above command, with this accompanying file, needs only be run once.  it does not get run in CI.  this file is provided here for future reference
# make sure you're in devnet2
apiVersion: batch/v1beta1
kind: CronJob
metadata:
  name: devnet-txn-burst-cronjob
spec:
  concurrencyPolicy: Replace
  failedJobsHistoryLimit: 1
  jobTemplate:
    spec:
      template:
        spec:
          containers:
          - command:
            - /bin/bash
            - -c
            - "

batch_generate_keys.exe gen-there-and-back-txns -count 10 --origin-sender-sk-path /keys/key > txn_burst.sh
chmod 777 txn_burst.sh
./txn_burst.sh

mina accounts unlock --password adsfasdfasdf B62qmnkbvNpNvxJ9FkSkBy5W6VkquHbgN2MDHh1P8mRVX3FQ1eWtcxV #can also be done via graphql

# obtained originally with 
# batch_generate_keys.exe gen-there-and-back-txns -count 10 --origin-sender-pk B62qmnkbvNpNvxJ9FkSkBy5W6VkquHbgN2MDHh1P8mRVX3FQ1eWtcxV
mina client send-payment --amount 4 --fee 2 --receiver B62qkVFxDqNMLVoMw6inZfRDV7hr92j64KjqcP16dDskAn457EW6AbS --sender B62qmnkbvNpNvxJ9FkSkBy5W6VkquHbgN2MDHh1P8mRVX3FQ1eWtcxV
mina client send-payment --amount 4 --fee 2 --receiver B62qnyFohEu9mnNHTvRdyAuL6EX3uR6A82RHdaZw2tgfohSkBLNhv5X --sender B62qmnkbvNpNvxJ9FkSkBy5W6VkquHbgN2MDHh1P8mRVX3FQ1eWtcxV
mina client send-payment --amount 4 --fee 2 --receiver B62qkSGquEtWwTmh4vRqUFGzDzGwqq6opQUtYUR3umWZ2c7gBFVE9s2 --sender B62qmnkbvNpNvxJ9FkSkBy5W6VkquHbgN2MDHh1P8mRVX3FQ1eWtcxV
mina client send-payment --amount 4 --fee 2 --receiver B62qr4yr5rweGkB96MuPhBt42e1HTFiYCpBNKVEnT55DZ2Gn3HZshdJ --sender B62qmnkbvNpNvxJ9FkSkBy5W6VkquHbgN2MDHh1P8mRVX3FQ1eWtcxV
mina client send-payment --amount 4 --fee 2 --receiver B62qpQhhBNuEZm3hnsQ4QFwKJL9DXbhqyatDcXduJ73CHHcQA6Gk1Bs --sender B62qmnkbvNpNvxJ9FkSkBy5W6VkquHbgN2MDHh1P8mRVX3FQ1eWtcxV
mina client send-payment --amount 4 --fee 2 --receiver B62qkbq6DbEthhRkdUvzbbUKz8pafDMNBwJ39p7LsX6YAsNkLwhV9zt --sender B62qmnkbvNpNvxJ9FkSkBy5W6VkquHbgN2MDHh1P8mRVX3FQ1eWtcxV
mina client send-payment --amount 4 --fee 2 --receiver B62qndM8CTPE3LvsSG8oHSfPH1Sa7hbkQ9hWVPpkriCsCQkfoJjx6Gi --sender B62qmnkbvNpNvxJ9FkSkBy5W6VkquHbgN2MDHh1P8mRVX3FQ1eWtcxV
mina client send-payment --amount 4 --fee 2 --receiver B62qnemEoMMA1R2wqMs1Hnkc234XJLqdo5QV783azaRtBk8x283dBZJ --sender B62qmnkbvNpNvxJ9FkSkBy5W6VkquHbgN2MDHh1P8mRVX3FQ1eWtcxV
mina client send-payment --amount 4 --fee 2 --receiver B62qqRp5PCowMyWsd8suzRiCKuCnZK21615grCxZZPwXpjMKBFQME1s --sender B62qmnkbvNpNvxJ9FkSkBy5W6VkquHbgN2MDHh1P8mRVX3FQ1eWtcxV
mina client send-payment --amount 4 --fee 2 --receiver B62qoGSSpLwuArGrBGcm1dDchScnrXn3nzgWLPZa1crA8HfFKrmkVGm --sender B62qmnkbvNpNvxJ9FkSkBy5W6VkquHbgN2MDHh1P8mRVX3FQ1eWtcxV
curl 'http://127.0.0.1:3085/graphql' -X POST -H 'content-type: application/json' --data '{\"query\":\"mutation ($sender: PublicKey!, $receiver: PublicKey!, $amount: UInt64!, $token: UInt64, $fee: UInt64!, $nonce: UInt32, $memo: String, $field: String, $scalar: String)  {\nsendPayment(input: {from: $sender, to: $receiver, amount: $amount, token: $token, fee: $fee, nonce: $nonce, memo: $memo}, signature: {field: $field, scalar: $scalar})  {\npayment  {\n__typename\nid  \n}\n\n}\n\n}\n\",\"variables\":{\"sender\":\"B62qkVFxDqNMLVoMw6inZfRDV7hr92j64KjqcP16dDskAn457EW6AbS\",\"receiver\":\"B62qmnkbvNpNvxJ9FkSkBy5W6VkquHbgN2MDHh1P8mRVX3FQ1eWtcxV\",\"amount\":\"2000000000\",\"token\":null,\"fee\":\"2000000000\",\"nonce\":null,\"memo\":null,\"field\":\"12433165851616923455026341682511373902987378982699310754123045427897888431856\",\"scalar\":\"28821273037077517685668327778939549493366080500466756962473218894070490207002\"}}'
curl 'http://127.0.0.1:3085/graphql' -X POST -H 'content-type: application/json' --data '{\"query\":\"mutation ($sender: PublicKey!, $receiver: PublicKey!, $amount: UInt64!, $token: UInt64, $fee: UInt64!, $nonce: UInt32, $memo: String, $field: String, $scalar: String)  {\nsendPayment(input: {from: $sender, to: $receiver, amount: $amount, token: $token, fee: $fee, nonce: $nonce, memo: $memo}, signature: {field: $field, scalar: $scalar})  {\npayment  {\n__typename\nid  \n}\n\n}\n\n}\n\",\"variables\":{\"sender\":\"B62qnyFohEu9mnNHTvRdyAuL6EX3uR6A82RHdaZw2tgfohSkBLNhv5X\",\"receiver\":\"B62qmnkbvNpNvxJ9FkSkBy5W6VkquHbgN2MDHh1P8mRVX3FQ1eWtcxV\",\"amount\":\"2000000000\",\"token\":null,\"fee\":\"2000000000\",\"nonce\":null,\"memo\":null,\"field\":\"15752241439573790764255587108852727803524738653472545514079734672328798842317\",\"scalar\":\"18093220021068539941015656415430561987269367686458389811887462598997543432434\"}}'
curl 'http://127.0.0.1:3085/graphql' -X POST -H 'content-type: application/json' --data '{\"query\":\"mutation ($sender: PublicKey!, $receiver: PublicKey!, $amount: UInt64!, $token: UInt64, $fee: UInt64!, $nonce: UInt32, $memo: String, $field: String, $scalar: String)  {\nsendPayment(input: {from: $sender, to: $receiver, amount: $amount, token: $token, fee: $fee, nonce: $nonce, memo: $memo}, signature: {field: $field, scalar: $scalar})  {\npayment  {\n__typename\nid  \n}\n\n}\n\n}\n\",\"variables\":{\"sender\":\"B62qkSGquEtWwTmh4vRqUFGzDzGwqq6opQUtYUR3umWZ2c7gBFVE9s2\",\"receiver\":\"B62qmnkbvNpNvxJ9FkSkBy5W6VkquHbgN2MDHh1P8mRVX3FQ1eWtcxV\",\"amount\":\"2000000000\",\"token\":null,\"fee\":\"2000000000\",\"nonce\":null,\"memo\":null,\"field\":\"19929709474251984703697564486945354978068291807349015967067989139384666533540\",\"scalar\":\"10238478897571872464516236154805711678722768250368744253613936312452438000685\"}}'
curl 'http://127.0.0.1:3085/graphql' -X POST -H 'content-type: application/json' --data '{\"query\":\"mutation ($sender: PublicKey!, $receiver: PublicKey!, $amount: UInt64!, $token: UInt64, $fee: UInt64!, $nonce: UInt32, $memo: String, $field: String, $scalar: String)  {\nsendPayment(input: {from: $sender, to: $receiver, amount: $amount, token: $token, fee: $fee, nonce: $nonce, memo: $memo}, signature: {field: $field, scalar: $scalar})  {\npayment  {\n__typename\nid  \n}\n\n}\n\n}\n\",\"variables\":{\"sender\":\"B62qr4yr5rweGkB96MuPhBt42e1HTFiYCpBNKVEnT55DZ2Gn3HZshdJ\",\"receiver\":\"B62qmnkbvNpNvxJ9FkSkBy5W6VkquHbgN2MDHh1P8mRVX3FQ1eWtcxV\",\"amount\":\"2000000000\",\"token\":null,\"fee\":\"2000000000\",\"nonce\":null,\"memo\":null,\"field\":\"21556484922591162245947363339059450504391865497360511544907780899034351554491\",\"scalar\":\"12797127384777634493729070839717870615674407326820000326973239515130819029643\"}}'
curl 'http://127.0.0.1:3085/graphql' -X POST -H 'content-type: application/json' --data '{\"query\":\"mutation ($sender: PublicKey!, $receiver: PublicKey!, $amount: UInt64!, $token: UInt64, $fee: UInt64!, $nonce: UInt32, $memo: String, $field: String, $scalar: String)  {\nsendPayment(input: {from: $sender, to: $receiver, amount: $amount, token: $token, fee: $fee, nonce: $nonce, memo: $memo}, signature: {field: $field, scalar: $scalar})  {\npayment  {\n__typename\nid  \n}\n\n}\n\n}\n\",\"variables\":{\"sender\":\"B62qpQhhBNuEZm3hnsQ4QFwKJL9DXbhqyatDcXduJ73CHHcQA6Gk1Bs\",\"receiver\":\"B62qmnkbvNpNvxJ9FkSkBy5W6VkquHbgN2MDHh1P8mRVX3FQ1eWtcxV\",\"amount\":\"2000000000\",\"token\":null,\"fee\":\"2000000000\",\"nonce\":null,\"memo\":null,\"field\":\"10888014689137599299171351761620366641076758577386166938303585613021070395719\",\"scalar\":\"21974148432422971395157194869973515281340664332631614313465235872551918904660\"}}'
curl 'http://127.0.0.1:3085/graphql' -X POST -H 'content-type: application/json' --data '{\"query\":\"mutation ($sender: PublicKey!, $receiver: PublicKey!, $amount: UInt64!, $token: UInt64, $fee: UInt64!, $nonce: UInt32, $memo: String, $field: String, $scalar: String)  {\nsendPayment(input: {from: $sender, to: $receiver, amount: $amount, token: $token, fee: $fee, nonce: $nonce, memo: $memo}, signature: {field: $field, scalar: $scalar})  {\npayment  {\n__typename\nid  \n}\n\n}\n\n}\n\",\"variables\":{\"sender\":\"B62qkbq6DbEthhRkdUvzbbUKz8pafDMNBwJ39p7LsX6YAsNkLwhV9zt\",\"receiver\":\"B62qmnkbvNpNvxJ9FkSkBy5W6VkquHbgN2MDHh1P8mRVX3FQ1eWtcxV\",\"amount\":\"2000000000\",\"token\":null,\"fee\":\"2000000000\",\"nonce\":null,\"memo\":null,\"field\":\"14085833247182056420930129232093455121254645204679877707957528812530598676918\",\"scalar\":\"27877857966469951916669031900368027984175930120915475636904432204330351611553\"}}'
curl 'http://127.0.0.1:3085/graphql' -X POST -H 'content-type: application/json' --data '{\"query\":\"mutation ($sender: PublicKey!, $receiver: PublicKey!, $amount: UInt64!, $token: UInt64, $fee: UInt64!, $nonce: UInt32, $memo: String, $field: String, $scalar: String)  {\nsendPayment(input: {from: $sender, to: $receiver, amount: $amount, token: $token, fee: $fee, nonce: $nonce, memo: $memo}, signature: {field: $field, scalar: $scalar})  {\npayment  {\n__typename\nid  \n}\n\n}\n\n}\n\",\"variables\":{\"sender\":\"B62qndM8CTPE3LvsSG8oHSfPH1Sa7hbkQ9hWVPpkriCsCQkfoJjx6Gi\",\"receiver\":\"B62qmnkbvNpNvxJ9FkSkBy5W6VkquHbgN2MDHh1P8mRVX3FQ1eWtcxV\",\"amount\":\"2000000000\",\"token\":null,\"fee\":\"2000000000\",\"nonce\":null,\"memo\":null,\"field\":\"4571489626871561853292823805237999975231803210013962868496818706466766999747\",\"scalar\":\"1617463524100762393847108983228465485816809300730826581892688227360163373904\"}}'
curl 'http://127.0.0.1:3085/graphql' -X POST -H 'content-type: application/json' --data '{\"query\":\"mutation ($sender: PublicKey!, $receiver: PublicKey!, $amount: UInt64!, $token: UInt64, $fee: UInt64!, $nonce: UInt32, $memo: String, $field: String, $scalar: String)  {\nsendPayment(input: {from: $sender, to: $receiver, amount: $amount, token: $token, fee: $fee, nonce: $nonce, memo: $memo}, signature: {field: $field, scalar: $scalar})  {\npayment  {\n__typename\nid  \n}\n\n}\n\n}\n\",\"variables\":{\"sender\":\"B62qnemEoMMA1R2wqMs1Hnkc234XJLqdo5QV783azaRtBk8x283dBZJ\",\"receiver\":\"B62qmnkbvNpNvxJ9FkSkBy5W6VkquHbgN2MDHh1P8mRVX3FQ1eWtcxV\",\"amount\":\"2000000000\",\"token\":null,\"fee\":\"2000000000\",\"nonce\":null,\"memo\":null,\"field\":\"17802148065267105995699960967301306011389343643346067266567944460506933057806\",\"scalar\":\"23253468033764109312356255998528752022487502941214114289302925997586426069848\"}}'
curl 'http://127.0.0.1:3085/graphql' -X POST -H 'content-type: application/json' --data '{\"query\":\"mutation ($sender: PublicKey!, $receiver: PublicKey!, $amount: UInt64!, $token: UInt64, $fee: UInt64!, $nonce: UInt32, $memo: String, $field: String, $scalar: String)  {\nsendPayment(input: {from: $sender, to: $receiver, amount: $amount, token: $token, fee: $fee, nonce: $nonce, memo: $memo}, signature: {field: $field, scalar: $scalar})  {\npayment  {\n__typename\nid  \n}\n\n}\n\n}\n\",\"variables\":{\"sender\":\"B62qqRp5PCowMyWsd8suzRiCKuCnZK21615grCxZZPwXpjMKBFQME1s\",\"receiver\":\"B62qmnkbvNpNvxJ9FkSkBy5W6VkquHbgN2MDHh1P8mRVX3FQ1eWtcxV\",\"amount\":\"2000000000\",\"token\":null,\"fee\":\"2000000000\",\"nonce\":null,\"memo\":null,\"field\":\"17499566989156331432594663608114261142492313155277704261314583997705101497374\",\"scalar\":\"24651078863503930615632322916510813333028965538848004011112707277742758632414\"}}'
curl 'http://127.0.0.1:3085/graphql' -X POST -H 'content-type: application/json' --data '{\"query\":\"mutation ($sender: PublicKey!, $receiver: PublicKey!, $amount: UInt64!, $token: UInt64, $fee: UInt64!, $nonce: UInt32, $memo: String, $field: String, $scalar: String)  {\nsendPayment(input: {from: $sender, to: $receiver, amount: $amount, token: $token, fee: $fee, nonce: $nonce, memo: $memo}, signature: {field: $field, scalar: $scalar})  {\npayment  {\n__typename\nid  \n}\n\n}\n\n}\n\",\"variables\":{\"sender\":\"B62qoGSSpLwuArGrBGcm1dDchScnrXn3nzgWLPZa1crA8HfFKrmkVGm\",\"receiver\":\"B62qmnkbvNpNvxJ9FkSkBy5W6VkquHbgN2MDHh1P8mRVX3FQ1eWtcxV\",\"amount\":\"2000000000\",\"token\":null,\"fee\":\"2000000000\",\"nonce\":null,\"memo\":null,\"field\":\"11521460828334425773757044345215294645740544643191823880155277358723218141676\",\"scalar\":\"21880376039051554320194319524378136254156274997927477981190176901335795698891\"}}'
"
            
            env:
            - name: GCLOUD_KEYFILE
              value: /gcloud/keyfile.json
            image: adsfljkhasdfkljhasdfkljhasdfkljhasldkjfhzxcadsfaslkjhasdflkjdhasfkljasdhfdjsfkldjs
            imagePullPolicy: IfNotPresent
            name: devnet-txn-burst-cronjob
            resources: {}
            terminationMessagePath: /dev/termination-log
            terminationMessagePolicy: File
            volumeMounts:
            - mountPath: /keys/
              name: private-keys
          dnsPolicy: ClusterFirst
          restartPolicy: Never
          schedulerName: default-scheduler
          securityContext: {}
          terminationGracePeriodSeconds: 30
          volumes: [
            {
              "name": "private-keys",
              "secret": {
                "defaultMode": 256,
                "items": [
                  {
                    "key": "key",
                    "path": "key"
                  },
                  {
                    "key": "pub",
                    "path": "key.pub"
                  }
                ],
                "secretName": "online-whale-account-1-key"
              }
          }
          ]
  schedule: 0 0 * * *
  successfulJobsHistoryLimit: 3
  suspend: false
