(jbuild_version 1)

(library
 ((name blockchain_snark)
  (public_name blockchain_snark)
  (flags (:standard -short-paths -warn-error -58))
  (library_flags (-linkall))
  (libraries (common core cached cache_dir protocols snarky snark_params nanobit_base proof_of_work transaction_snark bignum_bigint))
  (inline_tests)
  (preprocess (pps (ppx_jane ppx_deriving.eq)))
  (synopsis "blockchain state transition snarking library")))

(rule
 ((targets (generated_at_compile_time.ml))
  (deps    (gen/gen.exe))
  (action  (run ${<} ${@}))))

