(library
 (name merkle_ledger_tests)
 (public_name merkle_ledger.tests)
 (modules (:standard \ test))
 (flags (:standard -warn-error +a))
 (preprocess
  (pps
   ppx_version
   ppx_jane
   ppx_compare
   ppx_deriving.show
   ppx_deriving_yojson))
 (libraries
  alcotest
  async
  async_kernel
  async_unix
  base.base_internalhash_types
  base.caml
  base58_check
  bin_prot.shape
  codable
  core
  core.uuid
  core_kernel
  core_kernel.uuid
  currency
  data_hash_lib
  key_value_database
  merkle_address
  merkle_ledger
  merkle_mask
  mina_base
  mina_base.import
  mina_numbers
  mina_stdlib
  ppx_version.runtime
  result
  sexplib0
  signature_lib)
 (instrumentation
  (backend bisect_ppx)))

(test
 (name test)
 (package merkle_ledger)
 (modules test)
 (flags (:standard -warn-error +a))
 (preprocess
  (pps
   ppx_version
   ppx_jane
   ppx_compare
   ppx_deriving.show
   ppx_deriving_yojson))
 (libraries
  alcotest
  merkle_ledger_tests)
 (instrumentation
  (backend bisect_ppx)))
